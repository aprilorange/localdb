"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();!function(){function t(t){for(var e=0;e<t.length;e++)if(!t[e])return!1;return!0}function e(){var t=((new Date).getTime()/1e3|0).toString(16);return t+"xxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)}).toLowerCase()}var r={limit:0,sortBy:"index",sort:1,skip:0},n=function(n,i){var s=function(){function n(t){var e=arguments.length<=1||void 0===arguments[1]?"Array":arguments[1];if(_classCallCheck(this,n),"string"==typeof t)this.db=t,this.type=e;else if("object"==typeof t){var r=t;this.db=r.name,this.type=r.type||"Array",this.timestamp=r.timestamp||!1}}return _createClass(n,[{key:"get",value:function(){return JSON.parse(i.getItem(this.db))}},{key:"findOne",value:function(t){return this.find(t,{limit:1})}},{key:"find",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?r:arguments[1];if("Array"!==this.type)return console.error("The .findOne method only works if the database is an Array!");n.limit=n.limit||r.limit,n.sortBy=n.sortBy||r.sortBy,n.sort=n.sort||r.sort,n.skip=n.skip||r.skip;var i=this.get()||[];return e&&(i=i.filter(function(r){var n=[];for(var i in e)n.push(r[i]===e[i]);return t(n)?!0:!1})),1===n.limit?i[0]:i=i.sort(function(t,e){return t[n.sortBy]<e[n.sortBy]?-n.sort:t[n.sortBy]>e[n.sortBy]?n.sort:0})}},{key:"add",value:function(t){"Array"!==this.type&&console.error("The .add method only works if the database is an Array!");var r=this.get()||[],n=0;return r.length>0&&(n=r.length),t.index=n,t._id=e(),this.timestamp&&(t.createdAt=new Date,t.updatedAt=new Date),r.push(t),this.override(r),this}},{key:"set",value:function(t,e){if("Object"!==this.type)console.error("The .set method only works if the database is an Object!");else{var r=this.get()||{};r[t]=e,this.override(r)}return this}},{key:"save",value:function(t){"Array"!==this.type&&console.error("The .save method only works if the database is an Array!");var e=this.get();return e[t.index]._id===t._id&&(e[t.index]=t,this.override(e)),this}},{key:"override",value:function(t){i.setItem(this.db,JSON.stringify(t))}},{key:"remove",value:function(t,e){var r=this.get();if("Array"===this.type){if(0===r.length)return this;r=r.filter(function(r){return r[t]===e?!1:!0})}else"Object"===this.type&&delete r[t];return i.setItem(this.db,JSON.stringify(r)),this}},{key:"destroy",value:function(){return i.removeItem(this.db),this}}]),n}();return s};!function(t,e,r){"undefined"!=typeof module?modul.exports=r:"undefined"!=typeof t&&(t[e]=r)}(window,"localdb",n(window,localStorage))}();
//# sourceMappingURL=localdb.min.js.map