{"version":3,"sources":["localdb.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","definition","W","LS","LocalDB","name","type","arguments","undefined","this","db","value","JSON","parse","getItem","obj","collection","get","index","push","override","console","error","setItem","stringify","filter","removeItem","context","module","modul","exports","window","localStorage"],"mappings":"AAMA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,OAIjiB,WAEE,GAAIkB,GAAa,SAAoBC,EAAGC,GACtC,GAAIC,GAAU,WACZ,QAASA,GAAQC,GACf,GAAIC,GAAOC,UAAUjB,QAAU,GAAsBkB,SAAjBD,UAAU,GAAmB,QAAUA,UAAU,EAErF1B,iBAAgB4B,KAAML,GAEtBK,KAAKC,GAAKL,EACVI,KAAKH,KAAOA,EAsEd,MAnEArB,cAAamB,IACXP,IAAK,MACLc,MAAO,WACL,MAAOC,MAAKC,MAAMV,EAAGW,QAAQL,KAAKC,QAGpCb,IAAK,MACLc,MAAO,SAAaI,GAClB,GAAIC,GAAaP,KAAKQ,UAClBC,EAAQ,CAOZ,OANIF,GAAW1B,OAAS,IACtB4B,EAAQF,EAAW1B,QAErByB,EAAIG,MAAQA,EACZF,EAAWG,KAAKJ,GAChBN,KAAKW,SAASJ,GACPP,QAGTZ,IAAK,MACLc,MAAO,SAAad,EAAKc,GAEvB,GAAkB,WAAdF,KAAKH,KACPe,QAAQC,MAAM,gEACT,CACL,GAAIN,GAAaP,KAAKQ,SACtBD,GAAWnB,GAAOc,EAClBF,KAAKW,SAASJ,GAEhB,MAAOP,SAGTZ,IAAK,WACLc,MAAO,SAAkBK,GACvBb,EAAGoB,QAAQd,KAAKC,GAAIE,KAAKY,UAAUR,OAGrCnB,IAAK,SACLc,MAAO,SAAgBd,EAAKc,GAC1B,GAAIK,GAAaP,KAAKQ,KAEtB,IAAkB,UAAdR,KAAKH,KAAkB,CACzB,GAA0B,IAAtBU,EAAW1B,OACb,MAAOmB,KAETO,GAAaA,EAAWS,OAAO,SAAUV,GACvC,MAAIA,GAAIlB,KAASc,GACR,GAEA,QAGY,WAAdF,KAAKH,YACPU,GAAWnB,EAIpB,OADAM,GAAGoB,QAAQd,KAAKC,GAAIE,KAAKY,UAAUR,IAC5BP,QAGTZ,IAAK,UACLc,MAAO,WAEL,MADAR,GAAGuB,WAAWjB,KAAKC,IACZD,SAIJL,IAGT,OAAOA,KAET,SAAWuB,EAAStB,EAAMJ,GACF,mBAAX2B,QACTC,MAAMC,QAAU7B,EACY,mBAAZ0B,KAChBA,EAAQtB,GAAQJ,IAEjB8B,OAAQ,UAAW9B,EAAW8B,OAAQC","file":"localdb.min.js","sourcesContent":["/*\n * localdb\n * (c) 2015\n * github.com/aprilorange/localdb\n */\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function () {\n\n  var definition = function definition(W, LS) {\n    var LocalDB = (function () {\n      function LocalDB(name) {\n        var type = arguments.length <= 1 || arguments[1] === undefined ? 'Array' : arguments[1];\n\n        _classCallCheck(this, LocalDB);\n\n        this.db = name;\n        this.type = type;\n      }\n\n      _createClass(LocalDB, [{\n        key: 'get',\n        value: function get() {\n          return JSON.parse(LS.getItem(this.db));\n        }\n      }, {\n        key: 'add',\n        value: function add(obj) {\n          var collection = this.get() || [];\n          var index = 0;\n          if (collection.length > 0) {\n            index = collection.length;\n          }\n          obj.index = index;\n          collection.push(obj);\n          this.override(collection);\n          return this;\n        }\n      }, {\n        key: 'set',\n        value: function set(key, value) {\n          // works if db is object\n          if (this.type !== 'Object') {\n            console.error('The .set method only works if the database is an Object!');\n          } else {\n            var collection = this.get() || {};\n            collection[key] = value;\n            this.override(collection);\n          }\n          return this;\n        }\n      }, {\n        key: 'override',\n        value: function override(collection) {\n          LS.setItem(this.db, JSON.stringify(collection));\n        }\n      }, {\n        key: 'remove',\n        value: function remove(key, value) {\n          var collection = this.get();\n\n          if (this.type === 'Array') {\n            if (collection.length === 0) {\n              return this;\n            }\n            collection = collection.filter(function (obj) {\n              if (obj[key] === value) {\n                return false;\n              } else {\n                return true;\n              }\n            });\n          } else if (this.type === 'Object') {\n            delete collection[key];\n          }\n\n          LS.setItem(this.db, JSON.stringify(collection));\n          return this;\n        }\n      }, {\n        key: 'destroy',\n        value: function destroy() {\n          LS.removeItem(this.db);\n          return this;\n        }\n      }]);\n\n      return LocalDB;\n    })();\n\n    return LocalDB;\n  };\n  (function (context, name, definition) {\n    if (typeof module !== 'undefined') {\n      modul.exports = definition;\n    } else if (typeof context !== 'undefined') {\n      context[name] = definition;\n    }\n  })(window, 'localdb', definition(window, localStorage));\n})();"],"sourceRoot":"/source/"}